<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Retirement Calculator – Plan Your Future</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#f6f9fc;
  --card:#ffffff;
  --primary:#1f6fb6;
  --text:#1c1f21;
  --muted:#6b7280;
  --border:#e5e7eb;
  --radius:12px;
  --shadow:0 10px 30px rgba(0,0,0,.06);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
  color:var(--text);
}

.container{
  max-width:1200px;
  margin:auto;
  padding:16px;
}

h1{
  text-align:center;
  color:var(--primary);
  margin-bottom:20px;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}

.card h2{
  margin-top:0;
  font-size:18px;
  border-bottom:1px solid var(--border);
  padding-bottom:8px;
}

label{
  font-size:14px;
  margin-top:12px;
  display:block;
}

input,select{
  width:100%;
  padding:10px;
  margin-top:4px;
  border:1px solid var(--border);
  border-radius:8px;
  font-size:15px;
}

button{
  width:100%;
  margin-top:16px;
  padding:14px;
  font-size:16px;
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

button:hover{opacity:.95}

.result{
  font-size:16px;
  margin:10px 0;
}

.big{
  font-size:22px;
  font-weight:700;
  color:var(--primary);
}

canvas{margin-top:20px}

@media(max-width:900px){
  .grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">

<h1>Retirement Calculator</h1>

<div class="grid">

<!-- INPUTS -->
<div class="card">
<h2>Personal & Financial Details</h2>

<label>Current Age</label>
<input id="currentAge" type="number" value="30">

<label>Retirement Age</label>
<input id="retireAge" type="number" value="60">

<label>Life Expectancy</label>
<input id="lifeAge" type="number" value="85">

<label>Current Savings</label>
<input id="savings" type="number" value="20000">

<label>Monthly Contribution</label>
<input id="monthly" type="number" value="500">

<label>Expected Annual Return (%)</label>
<input id="returnRate" type="number" step="0.1" value="7">

<label>Inflation Rate (%)</label>
<input id="inflation" type="number" step="0.1" value="3">

<label>Monthly Expenses After Retirement</label>
<input id="expenses" type="number" value="2000">

<label>Currency</label>
<select id="currency">
  <option value="$">$ USD</option>
  <option value="€">€ EUR</option>
  <option value="₹">₹ INR</option>
</select>

<button onclick="calculate()">Calculate Retirement</button>
</div>

<!-- RESULTS -->
<div class="card">
<h2>Results</h2>

<div class="result">Total Retirement Savings:
  <div class="big" id="totalSavings">—</div>
</div>

<div class="result">Monthly Retirement Income:
  <div class="big" id="monthlyIncome">—</div>
</div>

<div class="result">Funds Will Last:
  <div class="big" id="yearsLast">—</div>
</div>

<canvas id="growthChart"></canvas>
</div>

</div>
</div>

<script>
let chart;

function formatMoney(val){
  const cur=document.getElementById("currency").value;
  return cur + Number(val).toLocaleString(undefined,{maximumFractionDigits:0});
}

function calculate(){
  const age=+currentAge.value;
  const retire=+retireAge.value;
  const life=+lifeAge.value;
  const savings0=+savings.value;
  const monthly=+monthly.value;
  const r=+returnRate.value/100;
  const inf=+inflation.value/100;
  const expenses=+expenses.value;

  const yearsToRetire=retire-age;
  let balance=savings0;
  let data=[];
  let labels=[];

  for(let i=1;i<=yearsToRetire;i++){
    balance = balance*(1+r) + monthly*12;
    data.push(balance);
    labels.push("Age "+(age+i));
  }

  const totalSavings=balance;

  const realReturn=(1+r)/(1+inf)-1;
  const yearsAfter=life-retire;
  let annualIncome=(totalSavings*realReturn);
  let monthlyIncome=annualIncome/12;

  let lasts=Math.min(yearsAfter, totalSavings/(expenses*12));

  totalSavingsEl.innerHTML=formatMoney(totalSavings);
  monthlyIncomeEl.innerHTML=formatMoney(monthlyIncome);
  yearsLastEl.innerHTML=Math.floor(lasts)+" years";

  if(chart) chart.destroy();
  chart=new Chart(growthChart,{
    type:"line",
    data:{
      labels:labels,
      datasets:[{
        label:"Savings Growth",
        data:data,
        borderWidth:2,
        fill:false
      }]
    },
    options:{responsive:true}
  });
}

const totalSavingsEl=document.getElementById("totalSavings");
const monthlyIncomeEl=document.getElementById("monthlyIncome");
const yearsLastEl=document.getElementById("yearsLast");
</script>

</body>
</html>
